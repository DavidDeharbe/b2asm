THEORY ProofList IS
  _f(1) & _f(2) & _f(3) & advance.8,(_f(14) & _f(12) => _f(13));
  _f(1) & _f(2) & _f(3) & advance.7,(_f(14) & _f(10) => _f(11));
  _f(1) & _f(2) & _f(3) & advance.6,(_f(14) & _f(5) => _f(9));
  _f(1) & _f(2) & _f(3) & advance.5,(_f(7) & _f(12) => _f(13));
  _f(1) & _f(2) & _f(3) & advance.4,(_f(7) & _f(10) => _f(11));
  _f(1) & _f(2) & _f(3) & advance.3,(_f(7) & _f(5) => _f(9));
  _f(1) & _f(2) & _f(3) & advance.2,(_f(7) & _f(5) => _f(8));
  _f(1) & _f(2) & _f(3) & advance.1,(_f(4) & _f(5) => _f(6))
END
&
THEORY Formulas IS
  ("`Previous components properties'" & not((1..3)*{COLOR} = {}));
  ("`Included,imported and extended machines invariants'" & statevalue$1 : INTEGER & 0<=statevalue$1);
  ("`Previous components invariants'" & color : (1..3)*{COLOR} & "`Component invariant'" & 0<=statevalue$1 & statevalue$1<=2 & (statevalue$1 = 0 => color = 1|->COLOR) & (color = 1|->COLOR => statevalue$1 = 0) & (statevalue$1 = 1 => color = 2|->COLOR) & (color = 2|->COLOR => statevalue$1 = 1) & (statevalue$1 = 2 => color = 3|->COLOR) & (color = 3|->COLOR => statevalue$1 = 2));
  ("`Local hypotheses'" & statevalue$1 = 0 & 1 : INTEGER & not(color = 3|->COLOR) & (not(color = 1|->COLOR) & not(color = 2|->COLOR) => not(not(color = 1|->COLOR) & color = 2|->COLOR & not(color = 3|->COLOR))));
  "`Check that the invariant (0<=statevalue & statevalue<=2 & statevalue = 0 <=> (color = green) & statevalue = 1 <=> (color = yellow) & statevalue = 2 <=> (color = red) & statevalue = 2 <=> (color = red)) is preserved by the operation - ref 4.4, 5.5'";
  (not(color = 2|->COLOR));
  ("`Local hypotheses'" & not(statevalue$1 = 0) & not(statevalue$1 = 1) & 0 : INTEGER & color = 3|->COLOR & (not(color = 1|->COLOR) & not(color = 2|->COLOR) => not(not(1|->COLOR = 2|->COLOR) & not(1|->COLOR = 3|->COLOR))) & not(color = 1|->COLOR));
  (not(color = 3|->COLOR));
  (color = 2|->COLOR);
  "`Check that the invariant (statevalue = 0 <=> (color = green)) is preserved by the operation - ref 4.4, 5.5'";
  (3|->COLOR = 1|->COLOR);
  "`Check that the invariant (statevalue = 2 <=> (color = red)) is preserved by the operation - ref 4.4, 5.5'";
  (bfalse);
  ("`Local hypotheses'" & not(statevalue$1 = 0) & not(statevalue$1 = 1) & 0 : INTEGER & not(color = 3|->COLOR) & (not(color = 1|->COLOR) & not(color = 2|->COLOR) => not(color = 1|->COLOR & not(color = 2|->COLOR) & not(color = 3|->COLOR))) & not(color = 1|->COLOR));
  ("`Variables conservation'" & statevalue = statevalue$1);
  ("`Included,imported and extended machines invariants'" & statevalue : INTEGER & 0<=statevalue)
END
&
THEORY EnumerateX IS
  COLOR == {green,yellow,red}
END
&
THEORY Version IS
  POVersion(V3.8.3)(CLT == "V3.7.6")(local_op == OK)
END
