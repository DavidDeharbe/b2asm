IMPLEMENTATION conditionalalg
REFINES conditional
SEES types
IMPORTS mi.nat
INVARIANT
  max(st) = mi.value
INITIALISATION
  BEGIN
    mi.set(0)
  END
OPERATIONS
  add (v) =
    VAR m IN
      m <-- mi.get;
      IF m < v THEN
        mi.set(v)
      END
    END;
  res <-- largest =
    BEGIN
      res <-- mi.get
    END
END